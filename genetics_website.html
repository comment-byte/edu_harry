<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alchemy of Life: Heredity & Genetics</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Merriweather:ital@0;1&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-bg: #000000;
            --secondary-bg: #1a0a0a; 
            --card-bg: rgba(20, 40, 0, 0.7);
            --accent: #50ff7c;
            --text-primary: #e0e0e0;
            --text-secondary: #aaaaaa;
            --glow-color: #b0ffb0;
            --border-color: #008a2e;
            --success-color: #00e676;
        }

        body {
            font-family: 'Merriweather', serif;
            background: var(--primary-bg);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
        }

        .particle {
            position: absolute;
            width: 3px;
            height: 3px;
            background: var(--glow-color);
            border-radius: 50%;
            opacity: 0.5;
            animation: float 20s infinite;
            box-shadow: 0 0 8px var(--glow-color);
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(100vh) translateX(0);
                opacity: 0;
            }
            10% {
                opacity: 0.5;
            }
            90% {
                opacity: 0.5;
            }
            100% {
                transform: translateY(-100vh) translateX(200px);
                opacity: 0;
            }
        }

        nav {
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(5px);
            padding: 1rem 2rem;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            border-bottom: 2px solid var(--border-color);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            animation: slideDown 0.5s ease-out;
        }

        @keyframes slideDown {
            from {
                transform: translateY(-100%);
            }
            to {
                transform: translateY(0);
            }
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: 'Cinzel', serif;
            font-size: 1.8rem;
            font-weight: bold;
            background: linear-gradient(45deg, var(--glow-color), #ffffff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: pulse 2s infinite;
            cursor: pointer;
            text-shadow: 0 0 10px var(--glow-color);
        }

        @keyframes pulse {
            0%, 100% {
                text-shadow: 0 0 5px var(--glow-color);
            }
            50% {
                text-shadow: 0 0 15px var(--glow-color), 0 0 20px rgba(255, 255, 255, 0.7);
            }
        }

        .back-btn {
            padding: 0.5rem 1.5rem;
            background: linear-gradient(45deg, var(--accent), var(--border-color));
            border: none;
            border-radius: 25px;
            color: var(--text-primary);
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: none;
            font-family: 'Merriweather', serif;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }

        .back-btn.show {
            display: block;
        }

        .back-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 25px var(--accent);
            background: linear-gradient(45deg, #7cff9c, var(--accent));
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 6rem 2rem 2rem;
        }

        .hero {
            text-align: center;
            padding: 3rem 0;
            position: relative;
            animation: fadeInUp 1s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hero h1 {
            font-family: 'Cinzel', serif;
            font-size: 3.5rem;
            margin-bottom: 1rem;
            color: var(--text-primary);
            text-shadow: 0 0 15px var(--glow-color), 0 0 20px rgba(255, 255, 255, 0.7);
        }

        .hero p {
            font-size: 1.2rem;
            color: var(--text-secondary);
            max-width: 800px;
            margin: 0 auto 2rem;
            font-style: italic;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.2);
        }

        .topics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .topic-card {
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 15px;
            padding: 2.5rem;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            animation: fadeIn 1s ease-out forwards;
            opacity: 0;
            cursor: pointer;
            text-align: center;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.7);
        }

        .topic-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, var(--glow-color) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.4s ease;
            pointer-events: none;
        }

        .topic-card:hover::before {
            opacity: 0.3;
        }

        .topic-card:nth-child(1) { animation-delay: 0.1s; }
        .topic-card:nth-child(2) { animation-delay: 0.2s; }
        .topic-card:nth-child(3) { animation-delay: 0.3s; }
        .topic-card:nth-child(4) { animation-delay: 0.4s; }
        .topic-card:nth-child(5) { animation-delay: 0.5s; }
        .topic-card:nth-child(6) { animation-delay: 0.6s; }

        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }

        .topic-card:hover {
            transform: translateY(-15px) scale(1.08);
            border-color: var(--glow-color);
            box-shadow: 0 20px 60px rgba(176, 255, 176, 0.5);
            background: rgba(0, 60, 30, 0.9);
        }

        .topic-card h3 {
            font-family: 'Cinzel', serif;
            font-size: 1.6rem;
            color: var(--glow-color);
            margin: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            text-shadow: 0 0 8px var(--glow-color);
        }

        .topic-icon {
            font-size: 3.5rem;
            display: block;
            margin: 0 auto 1rem;
            animation: float-icon 3s ease-in-out infinite;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
        }

        @keyframes float-icon {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-8px);
            }
        }
        
        .topic-card:nth-child(1) .topic-icon::before { content: 'üß¨'; }
        .topic-card:nth-child(2) .topic-icon::before { content: '‚öóÔ∏è'; }
        .topic-card:nth-child(3) .topic-icon::before { content: 'üîÆ'; }
        .topic-card:nth-child(4) .topic-icon::before { content: 'üìú'; }
        .topic-card:nth-child(5) .topic-icon::before { content: 'üë•'; }
        .topic-card:nth-child(6) .topic-icon::before { content: '‚ú®'; }

        .topic-detail {
            display: none;
            animation: slideIn 0.5s ease-out;
        }

        .topic-detail.active {
            display: block;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .detail-header {
            text-align: center;
            padding: 2rem 0;
            border-bottom: 2px solid var(--border-color);
            margin-bottom: 3rem;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.6);
        }

        .detail-header h2 {
            font-family: 'Cinzel', serif;
            font-size: 2.8rem;
            background: linear-gradient(45deg, var(--glow-color), #ffffff, var(--accent));
            
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
            text-shadow: 0 0 12px var(--glow-color);
        }

        .detail-header p {
            color: var(--text-secondary);
            font-size: 1.2rem;
            font-style: italic;
            text-shadow: 0 0 3px rgba(255, 255, 255, 0.1);
        }

        .options-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 3rem;
            max-width: 900px;
            margin: 0 auto;
        }

        .option-card {
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 25px;
            padding: 3rem 2rem;
            text-align: center;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.8);
        }

        .option-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--glow-color), var(--success-color), #ffffff);
            transform: scaleX(0);
            transition: transform 0.4s ease;
        }

        .option-card:hover::before {
            transform: scaleX(1);
        }

        .option-card:hover {
            transform: translateY(-15px);
            border-color: var(--glow-color);
            box-shadow: 0 25px 70px rgba(176, 255, 176, 0.6);
            background: rgba(0, 60, 30, 0.9);
        }

        .option-icon {
            font-size: 4.5rem;
            margin-bottom: 1.5rem;
            display: block;
            animation: bounce 2s infinite;
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.9);
        }

        @keyframes bounce {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-12px);
            }
        }

        .option-card h3 {
            font-family: 'Cinzel', serif;
            font-size: 2rem;
            color: var(--glow-color);
            margin-bottom: 1rem;
            text-shadow: 0 0 10px var(--glow-color);
        }

        .option-card p {
            color: var(--text-secondary);
            margin-bottom: 2rem;
            line-height: 1.6;
            font-style: italic;
            text-shadow: 0 0 2px rgba(255, 255, 255, 0.1);
        }

        .option-btn {
            display: inline-block;
            padding: 1rem 2.5rem;
            background: linear-gradient(45deg, var(--glow-color), var(--accent), #ffffff);
            color: var(--primary-bg);
            text-decoration: none;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            font-family: 'Merriweather', serif;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.6);
        }

        .option-btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s ease, height 0.6s ease;
        }

        .option-btn:hover::after {
            width: 300px;
            height: 300px;
        }

        .option-btn:hover {
            transform: scale(1.08);
            box-shadow: 0 15px 50px var(--glow-color), 0 0 30px rgba(255, 255, 255, 0.8);
        }

        .main-view {
            display: block;
        }

        .main-view.hidden {
            display: none;
        }

        /* Heredity specific styles */
        .heredity-nav {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            justify-content: center;
        }

        .tab-btn {
            background: linear-gradient(45deg, var(--card-bg), rgba(0, 40, 20, 0.8));
            color: var(--text-primary);
            border: 2px solid var(--border-color);
            padding: 0.8rem 2rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Cinzel', serif;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }

        .tab-btn.active {
            background: linear-gradient(45deg, var(--accent), var(--glow-color));
            color: var(--primary-bg);
            border-color: var(--glow-color);
            box-shadow: 0 8px 25px rgba(176, 255, 176, 0.5);
        }

        .tab-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(176, 255, 176, 0.4);
        }

        .heredity-content {
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 20px;
            padding: 3rem;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
        }

        .theory-section {
            margin-bottom: 3rem;
            padding: 2rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            border-left: 5px solid var(--accent);
        }

        .theory-section h3 {
            font-family: 'Cinzel', serif;
            color: var(--glow-color);
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            text-shadow: 0 0 10px var(--glow-color);
        }

        .theory-section p {
            line-height: 1.8;
            margin-bottom: 1.5rem;
            color: var(--text-primary);
            text-align: justify;
        }

        .theory-section strong {
            color: var(--accent);
            font-weight: bold;
        }

        .practical-placeholder {
            text-align: center;
            padding: 4rem;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 20px;
            border: 3px dashed var(--border-color);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
        }

        .practical-placeholder h2 {
            font-family: 'Cinzel', serif;
            color: var(--glow-color);
            font-size: 2.5rem;
            margin-bottom: 2rem;
            text-shadow: 0 0 15px var(--glow-color);
        }

        .practical-placeholder ul {
            list-style: none;
            padding: 0;
            margin: 2rem 0;
        }

        .practical-placeholder li {
            padding: 0.8rem 0;
            font-size: 1.2rem;
            color: var(--text-secondary);
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .topics-grid {
                grid-template-columns: 1fr;
            }
            
            .options-container {
                grid-template-columns: 1fr;
            }
            
            .container {
                padding: 5rem 1rem 2rem;
            }

            .detail-header h2 {
                font-size: 2rem;
            }

            .heredity-nav {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="particles" id="particles"></div>

    <nav>
        <div class="nav-container">
            <div class="logo" onclick="goHome()">Alchemy of Life: Heredity & Genetics</div>
            <button class="back-btn" id="backBtn" onclick="goBack()">‚Üê Back to Grimoire</button>
        </div>
    </nav>

    <div class="container">
        <div class="main-view" id="mainView">
            <section class="hero">
                <h1>Alchemy of Life: Genetic Mysteries</h1>
                <p>Unlock the ancient secrets of inheritance and explore the magical essence of life itself.</p>
            </section>

            <section id="topics">
                <a href="dna.html" style="text-decoration: none; color: inherit;">
                <div class="topics-grid">
                    <div class="topic-card" onclick="showTopicDetail('heredity', 'Heredity & Variation')">
                        <span class="topic-icon"></span>
                        <h3>Heredity & Variation</h3>
                    </a>
                    </div>

                    <div class="topic-card" onclick="showTopicDetail('physical-basis', 'Physical Basis of Inheritance')">
                        <span class="topic-icon"></span>
                        <h3>Physical Basis</h3>
                    </div>

                    <div class="topic-card" onclick="showTopicDetail('sex-determination', 'Sex Determination & Linkage')">
                        <span class="topic-icon"></span>
                        <h3>Sex Determination</h3>
                    </div>

                    <div class="topic-card" onclick="showTopicDetail('chromosomal-aberrations', 'Chromosomal Aberrations')">
                        <span class="topic-icon"></span>
                        <h3>Chromosomal Aberrations</h3>
                    </div>

                    <div class="topic-card" onclick="showTopicDetail('human-genetics', 'Human Genetics')">
                        <span class="topic-icon"></span>
                        <h3>Human Genetics</h3>
                    </div>

                    <div class="topic-card" onclick="showTopicDetail('modern-genetics', 'Modern Genetics')">
                        <span class="topic-icon"></span>
                        <h3>Modern Genetics</h3>
                    </div>
                </div>
            </section>
        </div>

        <div class="topic-detail" id="topicDetail">
            <div class="detail-header">
                <h2 id="topicTitle">Topic Name</h2>
                <p>Choose how you want to explore this genetic mystery</p>
            </div>

            <div class="options-container">
                <div class="option-card">
                    <span class="option-icon">üìö</span>
                    <h3>The Genetic Codex</h3>
                    <p>Study the ancient texts of inheritance, explore definitions, laws, and molecular secrets.</p>
                    <a href="#" class="option-btn" id="theoryBtn">
                        Open Codex ‚Üí
                    </a>
                </div>

                <div class="option-card">
                    <span class="option-icon">üß™</span>
                    <h3>The Laboratory</h3>
                    <p>Apply your knowledge through genetic experiments, crosses, and practical analysis.</p>
                    <a href="#" class="option-btn" id="practicalBtn">
                        Enter Lab ‚Üí
                    </a>
                </div>
            </div>
        </div>

        <!-- Heredity Detailed View -->
        <div class="topic-detail" id="heredityDetail" style="display: none;">
            <button class="back-btn show" onclick="showTopicDetail('heredity', 'Heredity & Variation')" style="margin-bottom: 2rem;">‚Üê Back to Options</button>
            
            <div class="detail-header">
                <h2>Heredity & Variation</h2>
                <p>Master the ancient art of genetic inheritance</p>
            </div>

            <div class="heredity-nav">
                <button class="tab-btn active" onclick="showHeredityTab('theory')">The Genetic Codex</button>
                <button class="tab-btn" onclick="showHeredityTab('practical')">The Laboratory</button>
            </div>

            <div class="heredity-content" id="theoryContent">
                <div class="theory-section">
                    <h3>üåø The Essence of Heredity</h3>
                    <p><strong>Heredity</strong> is the mystical process by which the essence of life‚Äîgenetic information‚Äîflows from parent to offspring like an eternal river. This fundamental alchemical process ensures the continuity of all living beings while allowing for the beautiful diversity that makes each creature unique.</p>
                    
                    <p><strong>Variation</strong> represents the sacred diversity that exists among individuals of the same species. These differences arise from the complex interplay between the genetic blueprints inherited from ancestors and the environmental forces that shape expression. Understanding variation is the key to comprehending evolution, adaptation, and the survival of species through changing times.</p>
                </div>

                <div class="theory-section">
                    <h3>üìú Mendel's Sacred Laws of Inheritance</h3>
                    <p>Gregor Mendel, the great alchemist of genetics, discovered through his mystical work with pea plants the fundamental principles that govern all inheritance. His three sacred laws form the foundation of genetic wisdom:</p>
                    
                    <p><strong>‚öñÔ∏è The Law of Dominance:</strong> When two different essences (alleles) meet for a single trait, one will mask the expression of the other in the physical manifestation. The dominant essence typically appears in uppercase symbols, while the recessive essence uses lowercase.</p>
                    
                    <p><strong>üå± The Law of Segregation:</strong> Each parent carries two copies of genetic essence, but these separate during the creation of reproductive cells. Each gamete receives only one copy, ensuring offspring inherit one essence from each parent‚Äîa perfect balance of ancestral gifts.</p>
                    
                    <p><strong>üåü The Law of Independent Assortment:</strong> Different traits are inherited independently, like separate streams flowing from the same source, provided they reside on different chromosomes or are distant cousins on the same chromosome.</p>
                </div>

                <div class="theory-section">
                    <h3>üî¨ The Ancient Art of Genetic Crosses</h3>
                    <p><strong>Monohybrid Cross:</strong> A sacred union between individuals differing in a single trait. This reveals the dance of dominance and segregation, where the first generation (F‚ÇÅ) typically shows the dominant characteristic, while the second generation (F‚ÇÇ) unveils the classic 3:1 ratio of expression.</p>
                    
                    <p><strong>Dihybrid Cross:</strong> A more complex ritual involving two traits, demonstrating the law of independent assortment. This mystical union typically produces the sacred 9:3:3:1 ratio in the F‚ÇÇ generation, revealing the intricate patterns of genetic inheritance.</p>
                </div>

                <div class="theory-section">
                    <h3>‚ú® Beyond Mendel's Realm</h3>
                    <p>While Mendel's laws provide the foundation, genetic reality extends far beyond these basic principles:</p>
                    
                    <p><strong>üé® Incomplete Dominance:</strong> Neither allele completely dominates, creating a blended manifestation in heterozygotes‚Äîlike mixing two colors of magical ink.</p>
                    
                    <p><strong>üåà Codominance:</strong> Both alleles express themselves simultaneously, such as in the mysterious ABO blood typing system.</p>
                    
                    <p><strong>üé≠ Multiple Alleles:</strong> More than two forms of a gene exist in the population, though individuals still carry only two‚Äîlike having many keys but only two keyholes.</p>
                    
                    <p><strong>üìä Polygenic Inheritance:</strong> Multiple genes collaborate to influence a single trait, creating the continuous variation we see in height, skin color, and intelligence.</p>
                </div>
            </div>

            <div class="heredity-content" id="practicalContent" style="display: none;">
                <div class="practical-placeholder">
                    <h2>üß¨ The Genetic Laboratory</h2>
                    <p>Welcome to the mystical laboratory where theory transforms into practice!</p>
                    <p>Here you will master the arts of:</p>
                    <ul>
                        <li>üî¨ Virtual Genetic Crosses and Punnett Square Divination</li>
                        <li>üìä Pedigree Analysis - Tracing Ancestral Lines</li>
                        <li>üßÆ Genetic Probability Calculators and Oracles</li>
                        <li>üéÆ Interactive Inheritance Games and Challenges</li>
                        <li>üìù Ancient Genetic Problems and Sacred Quizzes</li>
                        <li>üå± Breeding Simulations and Evolutionary Experiments</li>
                    </ul>
                    <p style="margin-top: 2rem; font-style: italic; opacity: 0.7;">The laboratory awaits your presence...</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const particlesContainer = document.getElementById('particles');
        const numberOfParticles = 50;

        for (let i = 0; i < numberOfParticles; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 20 + 's';
            particle.style.animationDuration = (Math.random() * 10 + 15) + 's';
            particlesContainer.appendChild(particle);
        }

        let currentTopic = null;

        const topicDescriptions = {
            'heredity': 'The mystical art of genetic inheritance, where the essence of life flows from parent to offspring through sacred molecular blueprints.',
            'physical-basis': 'The tangible foundation of inheritance - exploring genes, chromosomes, and the divine architecture of DNA.',
            'sex-determination': 'The ancient mechanisms that determine gender and the mysterious patterns of sex-linked inheritance.',
            'chromosomal-aberrations': 'When the genetic scrolls are altered - studying structural changes and numerical anomalies in chromosomes.',
            'human-genetics': 'Applying genetic wisdom to human lineages - deciphering family trees and understanding inherited conditions.',
            'modern-genetics': 'The cutting edge of genetic alchemy - gene therapy, CRISPR magic, and biotechnological wonders.'
        };

        function showTopicDetail(topicId, topicName) {
            currentTopic = topicId;
            
            if (topicId === 'heredity') {
                document.getElementById('mainView').classList.add('hidden');
                document.getElementById('topicDetail').classList.remove('active');
                document.getElementById('heredityDetail').style.display = 'block';
                document.getElementById('backBtn').classList.add('show');
                window.scrollTo({ top: 0, behavior: 'smooth' });
                return;
            }
            
            document.getElementById('mainView').classList.add('hidden');
            document.getElementById('heredityDetail').style.display = 'none';
            
            const detailView = document.getElementById('topicDetail');
            detailView.classList.add('active');
            
            document.getElementById('topicTitle').textContent = topicName;
            
            const detailHeader = document.querySelector('.detail-header p');
            if (topicDescriptions[topicId]) {
                detailHeader.innerHTML = topicDescriptions[topicId];
            }
            
            document.getElementById('backBtn').classList.add('show');
            
            document.getElementById('theoryBtn').onclick = function(e) {
                e.preventDefault();
                alert(`üîÆ Opening The Genetic Codex for ${topicName}. \n\nThis sacred tome contains:\n‚Ä¢ Ancient definitions and principles\n‚Ä¢ Molecular mechanisms\n‚Ä¢ Inheritance patterns\n‚Ä¢ Sacred formulas and equations\n\nThe wisdom awaits your study...`);
            };
            
            document.getElementById('practicalBtn').onclick = function(e) {
                e.preventDefault();
                alert(`üß™ Entering The Laboratory for ${topicName}. \n\nPrepare for:\n‚Ä¢ Interactive experiments\n‚Ä¢ Problem-solving quests\n‚Ä¢ Virtual simulations\n‚Ä¢ Practical applications\n\nTime to apply your genetic knowledge!`);
            };
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function showHeredityTab(tabId) {
            const theoryContent = document.getElementById('theoryContent');
            const practicalContent = document.getElementById('practicalContent');
            const tabBtns = document.querySelectorAll('.tab-btn');
            
            tabBtns.forEach(btn => btn.classList.remove('active'));
            
            if (tabId === 'theory') {
                theoryContent.style.display = 'block';
                practicalContent.style.display = 'none';
                document.querySelector('.tab-btn').classList.add('active');
            } else {
                theoryContent.style.display = 'none';
                practicalContent.style.display = 'block';
                document.querySelectorAll('.tab-btn')[1].classList.add('active');
            }
        }

        function goBack() {
            if (document.getElementById('heredityDetail').style.display === 'block') {
                document.getElementById('heredityDetail').style.display = 'none';
            }
            
            document.getElementById('mainView').classList.remove('hidden');
            document.getElementById('topicDetail').classList.remove('active');
            document.getElementById('backBtn').classList.remove('show');
            
            currentTopic = null;
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function goHome() {
            goBack();
        }

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && currentTopic) {
                goBack();
            }
        });

        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -100px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        document.querySelectorAll('.option-card').forEach(card => {
            observer.observe(card);
        });

        // Add smooth entrance animations
        document.addEventListener('DOMContentLoaded', function() {
            const topicCards = document.querySelectorAll('.topic-card');
            topicCards.forEach((card, index) => {
                card.style.animationDelay = `${(index + 1) * 0.1}s`;
            });
        });

        // Add mystical click sound effect simulation
        document.querySelectorAll('.topic-card, .option-btn, .tab-btn').forEach(element => {
            element.addEventListener('click', function() {
                this.style.transform = 'scale(0.98)';
                setTimeout(() => {
                    this.style.transform = '';
                }, 150);
            });
        });

        // Enhanced particle system with different sizes and speeds
        function createEnhancedParticles() {
            for (let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 20 + 's';
                particle.style.animationDuration = (Math.random() * 8 + 12) + 's';
                
                // Vary particle sizes
                const size = Math.random() * 4 + 2;
                particle.style.width = size + 'px';
                particle.style.height = size + 'px';
                
                // Vary opacity
                particle.style.opacity = Math.random() * 0.6 + 0.2;
                
                particlesContainer.appendChild(particle);
            }
        }

        createEnhancedParticles();
    </script>
</body>
</html>